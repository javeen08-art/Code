<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> 
  <title>3D Mushrooms</title>
  <link rel="stylesheet" href="mush.css">
</head>
<body>
<main>
  <!-- Your Header & Navigation -->
  <article>
    <div class="contacts">
      <div class="forms">

        <!-- Logo -->
        <div class="home3">
          <a href="index.html"><img src="MushImgs/719A6AB5-B07D-4B8D-B365-2F1CFEE85942.PNG" alt="logo" width="150"></a>
        </div>

        <!-- Form -->
        <form 
          id="quoteForm"
          method="POST" 
          enctype="multipart/form-data" 
          action="https://script.google.com/macros/s/YOUR_WEB_APP_ID/exec">

          <h7>Quote</h7>

          <!-- User Info -->
          <div class="words">
            <div class="three">
              <input type="text" name="Name" placeholder="Name Here">
              <input type="tel" name="phone" placeholder="647000000" pattern="[0-9]{9}">
              <input type="email" name="email" placeholder="E-mail">
              <input name="City/Address" placeholder="City/Address">
            </div>

            <div class="messagess">
              <input name="subject" placeholder="Type Of Surface">
              <input name="Size in ft" placeholder="Size in ft">
            </div>
          </div>

          <!-- Design Option -->
          <div class="designer">
            <label>Do you have your own design?</label>
            <label><input type="radio" name="Got design?" value="yea"> Yes</label>
            <label><input type="radio" name="Got design?" value="nah"> No</label>
          </div>

          <!-- Date & Location -->
          <div class="l2">
            <div class="date">
              <label for="bdate">Choose Your Date</label>
              <input type="date" id="bdate" name="Date Perferred">
            </div>
            <div class="dropdown">
              <label>Location Of Print:</label>
              <select name="area">
                <option value="House">House</option>
                <option value="Apartment/Condo">Apartment/Condo</option>
                <option value="Offices">Offices</option>
                <option value="Warehouse/Commercials">Warehouse/Commercials</option>
                <option value="School">School</option>
                <option value="Hospital">Hospital</option>
                <option value="Gym">Gym</option>
                <option value="Recreation Centre">Recreation Centre</option>
                <option value="Tow Trailers">Tow Trailers</option>
                <option value="Other">Other</option>
              </select>
            </div>
          </div>

          <!-- File Upload -->
          <div class="file-upload">
            <label for="filename">Upload Your File:</label>
            <input type="file" id="filename" name="filename" accept="image/*" required>
          </div>

          <!-- Buttons -->
          <div class="buttons">
            <input type="reset" value="Reset">
            <input type="submit" value="Submit" style="background-color: #3498DB; color:white;">
          </div>

        </form>

        <!-- Messages -->
        <div id="loading" style="display:none;">Processing...</div>
        <div id="message" style="display:none;">Form submitted successfully!</div>

      </div>
    </div>
  </article>
</main>

<script>
// -------- Date input min attribute --------
const today = new Date();
const year = today.getFullYear();
const month = String(today.getMonth() + 1).padStart(2, '0');
const day = String(today.getDate()).padStart(2, '0');
document.getElementById('bdate').setAttribute('min', `${year}-${month}-${day}`);

// -------- Form submission with messages --------
const form = document.getElementById('quoteForm');
const messageDiv = document.getElementById('message');
const loadingDiv = document.getElementById('loading');

form.addEventListener('submit', () => {
  // Show processing
  loadingDiv.style.display = 'block';
  messageDiv.style.display = 'none';
});

// Optional: hide "Processing..." after 5 seconds if needed
form.addEventListener('submit', () => {
  setTimeout(() => {
    loadingDiv.style.display = 'none';
    messageDiv.style.display = 'block';
  }, 5000);
});

// -------- Collapsible Buttons --------
const collapsibleButtons = document.querySelectorAll('.collapsible, .starts, .starts2, .st2,.nextbtnt3');
collapsibleButtons.forEach(button => {
  button.addEventListener('click', e => {
    e.stopPropagation();
    button.classList.toggle('active');
    const content = button.nextElementSibling;
    if (content) content.style.maxHeight = content.style.maxHeight ? null : content.scrollHeight + "px";
  });
});

document.addEventListener('click', () => {
  collapsibleButtons.forEach(btn => {
    if (btn.classList.contains('active')) {
      btn.classList.remove('active');
      const content = btn.nextElementSibling;
      if (content) content.style.maxHeight = null;
    }
  });
});

// -------- Dropdown Menu --------
const dropdownBtn = document.querySelector('.dropbtn');
const dropdownContent = document.getElementById('myDropdown');
if (dropdownBtn && dropdownContent) {
  dropdownBtn.addEventListener('click', () => {
    dropdownContent.classList.toggle('show');
  });
}
window.addEventListener('click', (event) => {
  if (!dropdownBtn.contains(event.target)) {
    const dropdowns = document.getElementsByClassName('dropdown-content');
    for (let i = 0; i < dropdowns.length; i++) {
      dropdowns[i].classList.remove('show');
    }
  }
});
</script>
</body>
</html>
