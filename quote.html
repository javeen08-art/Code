<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> 
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>3D Mushrooms</title>
    <link rel="stylesheet" href="mush.css">
    <link rel="icon" href="MushImgs/719A6AB5-B07D-4B8D-B365-2F1CFEE85942.PNG" type="image/png">
  </head>
  <body style ="background-color: rgba(255,255,255);">
    <main> 
  <article>
    <div class ="smallmnu">
      <div class ="smallh">
        <a href="index.html" id="myBtn"><img src="MushImgs/719A6AB5-B07D-4B8D-B365-2F1CFEE85942.PNG" type="image/png" width ="50"></a>
      </div>
    <div class ="smallm">
      <button class="st2"><span>≡</span></button>
      <div class="s6">
               <a href='index.html'>  Home</a>
            <a href ='about.html'> About Us</a>
            <a href ='serv.html'> Services</a>
            <a href="work.html"> Ma'Showroom</a>
            <a href ='faq.html' style =" padding-bottom: 7px;">FAQ</a>
      </div>
    </div>
    </div>
  </article>
  <article>



          <div class ="trans">
      <p><img src ="MushImgs/719A6AB5-B07D-4B8D-B365-2F1CFEE85942.PNG"></p>
    </div>
      
  
    <div class ="contacts">
      <div class ='forms'>
                      <div class="home3" >
      <a href='index.html' id="myBtn"><img src ="MushImgs/719A6AB5-B07D-4B8D-B365-2F1CFEE85942.PNG" alt ="logo" width ="150"></a> 
      </div>
        <div class="nextbtnt2">
          <button class = "starts2">≡</button>
          <div class='s4'>
            <a href='index.html'>  Home</a>
            <a href ='about.html'> About Us</a>
            <a href ='serv.html'> Services</a>
            <a href ='faq.html' style =" padding-bottom: 7px;">FAQ</a>
          </div>
      </div>
      <form
  method="POST"
  action="https://script.google.com/macros/s/AKfycbyfQnd2yKT4zMKdbsqkUpGWd7x8Hek3ik9wIOsOMVyHAvxB5TWuVlSwKN0IbsgPyBNIug/exec">

     <div class="notice">
      <p> ⚠️ Ensure all wall measurements are accurate. Keep artwork at least 35 cm below the ceiling and at least 60cm above the floor for ideal alignment.</p>
     </div>
  <h7> Quote</h7>
     <div class="words">
     <div class ="three">
    <div>
      <input type="text" id="name" style='scroll-margin-top: 150px;' name="Name" placeholder ="Name Here">
    </div>
    <div>
      <input type="tel" id="phone" name ="phone" placeholder="647000000" pattern ="[0-9]{3}[0-9]{3}[0-9]{3}">
    </div>
    <div> 
      <input type="email" id='email' name='email' placeholder="E-mail">
    </div> 
    <div>
      <input name ="City/Address" placeholder="City/Address" >
    </div>
  </div>
<div class ='messagess'>
      <input  name="subject" placeholder="Type Of Surface"></input>
      <input  name ="Size in ft" placeholder="Size in ft" style="margin-top: 1vh;">
    </div>
  </div>
<div class="designer">
  <label>Do you have your own design?</label>
    <div class="bo">
  <div class="option">
    <label><input type="radio" name="Got design?" value="yea"> Yes</label>
  </div>

  <div class="option">
    <label><input type="radio" name="Got design?" value="nah"> No</label>
  </div>
</div>
</div>
<div class ="l2">
    <div class =date>
      <label for="bdate">Choose Your Date</label>
      <input type="date" id="bdate" name ="Date Perferred" min ="" max="">
    </div>
   <div class ='print-location'>
  <label type="button">Location Of Print: </label>
  <select name="area">
  <option value="" disabled selected>Select an option...</option>
  <option value="Office">Offices</option>
    <option value="Garage">Garages</option>
  <option value="Warehouse/Commercials">Warehouse/Commercials</option>
  <option value="School">School</option>
  <option value="Hospital">Hospital</option>
  <option value="Gym">Gym</option>
  <option value="Recreation Centre">Recreation Centre</option>
  <option value="Other">Other</option>
    </select>
  </div>
  </div>
  <div class="file-upload">
    <label for="filename">Upload Your File:</label>
    <input type="file" id="filename" name="filename" accept="image/* .pdf,.doc,.docx,.zip,.txt,.png">
  </div>


  <div class ="buttons">
    <div>
        <input type="reset" id ="d">
    </div>
      <div>
        <input type="submit" id ="b" style="background-color: #3498DB; font-family: 'SF Pro'; color:'white' ">
      </div>
      <div id = 'message'> Form has been submitted successfully</div>
      <div id="loading" style="display:none;">Processing...</div>
      </div>
      </div>
  </form>
    </div> 
      </div>

    </article>
</main>
<footer>
<div class="hyperlinks">
  <div class ="insta">
    <a href ="https://www.instagram.com/3d.mushrooms/?igsh=enNtMGFjaG4zY2Nj#">
       <img src ="MushImgs/ig.webp">
       <p>Instagram</p>
      </a>
  </div>
  <div class ="tiktok">
    <a href ="https://www.tiktok.com/@3d.mushrooms?_r=1&_t=ZS-91QLhwgI8Bj"> <img src ="MushImgs/4834215.png"> <p>Tiktok</p></a>
  </div>
  </div>
  </footer>
</body>

<script>


// -------- Collapsible Buttons --------
document.querySelectorAll('.collapsible, .starts, .starts2, .st2, .nextbtnt3')
  .forEach(btn => {
    btn.addEventListener('click', e => {
      e.stopPropagation();
      btn.classList.toggle('active');

      btn.textContent = btn.classList.contains('active')
        ? btn.textContent.replace('+', '−')
        : btn.textContent.replace('−', '+');

      const content = btn.nextElementSibling;
      if (content) {
        content.style.maxHeight = content.style.maxHeight ? null : content.scrollHeight + "px";
      }
    });
  });

// Close collapsibles on outside click
document.addEventListener('click', () => {
  document.querySelectorAll('.collapsible.active, .starts.active, .starts2.active, .st2.active, .nextbtnt3.active')
    .forEach(btn => {
      btn.classList.remove('active');
      btn.textContent = btn.textContent.replace('−', '+');
      const content = btn.nextElementSibling;
      if (content) content.style.maxHeight = null;
    });
});

// -------- Dropdown Menu --------
const dropdownBtn = document.querySelector('.dropbtn');
const dropdownContent = document.getElementById('myDropdown');

if (dropdownBtn && dropdownContent) {
  dropdownBtn.addEventListener('click', e => {
    e.stopPropagation();
    dropdownContent.classList.toggle('show');
  });
}

window.addEventListener('click', e => {
  if (dropdownBtn && e.target !== dropdownBtn) {
    dropdownContent?.classList.remove('show');
  }
});

// -------- Date minimum --------
const today = new Date().toISOString().split("T")[0];
document.getElementById('bdate')?.setAttribute('min', today);

// -------- FORM SUBMISSION (Base64 Upload) --------
const form = document.querySelector('form');
const fileInput = document.getElementById('filename');
const messageDiv = document.getElementById('message');
const loadingDiv = document.getElementById('loading');

form.addEventListener('submit', async e => {
  e.preventDefault();

  loadingDiv.style.display = 'block';

  const formData = new FormData(form);
  const dataObj = {};

  formData.forEach((v, k) => dataObj[k] = v);

  // Convert file to base64
  const file = fileInput.files[0];
  if (file) {
    const base64 = await new Promise(resolve => {
      const reader = new FileReader();
      reader.onload = event => resolve(event.target.result.split(',')[1]);
      reader.readAsDataURL(file);
    });
    dataObj.fileData = base64;
    dataObj.fileName = file.name;
    dataObj.fileType = file.type;
  }

  fetch(form.action, {
    method: "POST",
    headers: { "Content-Type": "text/plain;charset=utf-8" },
    body: JSON.stringify(dataObj)
  })
  .then(res => res.text())
  .then(result => {
    loadingDiv.style.display = 'none';
    messageDiv.textContent = "Form has been submitted successfully!";
    messageDiv.style.display = "block";

    form.reset();
    fileInput.value = "";

    setTimeout(() => messageDiv.style.display = "none", 3000);

    console.log("Server response:", result);
  })
  .catch(err => {
    loadingDiv.style.display = 'none';
    alert("Error submitting the form. Please try again.");
    console.error("DEBUG ERROR:", err);
  });
});

// -------- Loader Transition --------
const transElement = document.querySelector('.trans');
transElement.addEventListener('animationend', () => {
  transElement.style.display = 'none';
});

// -------- Full Winter Logic: Hide Garage + Popup + Auto Reset --------
(function () {
  const dateInput = document.getElementById('bdate');
  const areaSelect = document.querySelector('select[name="area"]');
  const garageOption = areaSelect?.querySelector('option[value="Garage"]');

  if (!dateInput || !areaSelect || !garageOption) return;

  // ❄️ Winter months: December–March
  function isWinterMonth(month) {
    return [12, 1, 2].includes(month);
  }

  function updateGarageAvailability() {
    const dateValue = dateInput.value;


    const selectedDate = new Date(dateValue + "T00:00:00");
    const month = selectedDate.getMonth() + 1;
    const winter = isWinterMonth(month);

    if (winter) {
      // Hide Garage option
      garageOption.hidden = true;

      // Reset if Garage was selected
      if (areaSelect.value === "Garage") {
        areaSelect.value = "";
      }

      // Popup warning
      alert("❄️ Garage prints are unavailable during winter (Dec–Feb).");
    } else {
      // Show Garage option again
      garageOption.hidden = false;
    }
  }

  // Run when page loads
  updateGarageAvailability();

  // Re-check whenever user picks a date
  dateInput.addEventListener('change', updateGarageAvailability);
})();

</script>








</html>

